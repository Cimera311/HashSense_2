<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="config.js"></script>

    <script src="skript.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            console.log("Checking priceMatrixlocal:", window.priceMatrixlocal);
        });
    </script>
    <link rel="stylesheet" href="styles.css">

    <title>HashSense Farm</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #e6e6e6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-y: auto;
        }
        .main-container {
            width: 95%;
            max-width: 90%;
            background-color: #2a2a2a;
            border-radius: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }
        .header {
            background-color: #444;
            padding: 20px;
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            border-radius: 20px 20px 0 0;
        }
        .content {
            padding: 20px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .card {
            background-color: #2a2a2a;
            padding: 20px;
            border-radius: 20px;
            width: 150px;
            height: 150px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            position: relative;
            border: 1px solid #555;
        }
        .card-label {
            position: absolute;
            top: -15px;
            left: 10px;
            background-color: #673dec;
            z-index: 1;
            color: white;
            padding: 5px 10px;
            border-radius: 10px;
            font-size: 0.9em;
            border: 1px solid #555;
        }
        .farm-card {
            background-color: #333;
            padding: 20px;
            border-radius: 20px;
            flex-direction: column;
            width: 90%;
            text-align: center;
            margin: 20px auto 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            border: 1px solid #555;
            position: relative;
        }
        .input-container, .input-container-farm {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            margin-top: 10px;
        }
        .input-container label, .input-container-farm label {
            font-size: 0.9em;
            color: #e6e6e6;
            margin-bottom: 3px;
        }
        .input-container input, .input-container-farm input {
            width: 100%;
            padding: 5px;
            border-radius: 10px;
            border: 1px solid #555;
            background-color: #2a2a2a;
            color: #e6e6e6;
            font-size: 1em;
            text-align: center;
        }
        .delete-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: transparent;
            color: #e6e6e6;
            border: none;
            cursor: pointer;
            font-size: 20px;
            line-height: 20px;
            text-align: center;
        }
        .copy-btn {
            position: absolute;
            top: 7px;
            right: 25px;
            background-color: transparent;
            color: #e6e6e6;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        .copy-btn:hover {
            color: #673dec;
        }
        .add-card {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            font-weight: bold;
            color: #e6e6e6;
            cursor: pointer;
            background-color: #444; /* Etwas heller als die normalen Cards */
            border: 2px dashed #673dec; /* Umrandung als Hinweis */
        }
        
        .add-card:hover {
            border-color: #9333ea;
            color: #9333ea;
        }
        .view-btn {
            background-color: #444;
            border: 2px solid #555;
            padding: 8px;
            cursor: pointer;
            font-size: 18px;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.1s ease;
        }
        
        .view-btn.active {
            background-color: #9333ea;
            border-color: #673dec;
            transform: scale(1.1);
        }
        #currencySwitcher {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .currency-btn {
            background-color: #444;
            border: 2px solid #555;
            padding: 8px;
            margin: 5px;
            cursor: pointer;
            font-size: 18px;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.1s ease;
            color: #e6e6e6;
        }

        .currency-btn.active {
            background-color: #9333ea;
            border-color: #673dec;
            transform: scale(1.1);
        }


    </style>
</head>
<body>

    <div class="main-container">
        <div class="main-container">
            <header class="header">
                <div class="header-item">
                    <img src="https://github.com/Cimera311/Gomining_Calculator/raw/main/Bitcoin.svg.png" alt="BTC">
                    <select id="bitcoin-price-dropdown" onchange="updateBTCPrice();">
                        <option value="10000">10,000 $</option>
                        <option value="20000">20,000 $</option>
                        <option value="30000">30,000 $</option>    
                        <option value="40000">40,000 $</option>
                        <option value="50000">50,000 $</option>
                        <option value="60000">60,000 $</option>   
                        <option value="70000">70,000 $</option>
                        <option value="80000">80,000 $</option>
                        <option value="90000">90,000 $</option>
                        <option id="currentp" value="0">current price</option>
                        <option value="100000">100,000 $</option>
                        <option value="110000">110,000 $</option>
                        <option value="120000">120,000 $</option>
                        <option value="130000">130,000 $</option>
                        <option value="140000">140,000 $</option>
                        <option value="150000">150,000 $</option>
                        <option value="160000">160,000 $</option>
                        <option value="200000">200,000 $</option>
                        <option value="250000">250,000 $</option>
                        <option value="300000">300,000 $</option>
                        <option value="400000">400,000 $</option>   
                    </select>
                </div>
                <div class="header-item">
                    <img src="https://github.com/Cimera311/Gomining_Calculator/raw/main/GoMining_Logo.webp" alt="GMT">
                    <input value="0.400" id="gmt-token-price" placeholder="0,400">
                </div>
                <div class="header-item">
                    <label title="how much Satoshi Gomining pays for 1 TH" for="sat-TH">sat per TH:</label>
                    <input value="58" id="sat-TH">
                </div>
                <div class="header-item">
                    <button class="circular-button" onclick="fetchBTCPrice();fetchGMTPrice();">&#x21BB;</button>
                </div>
            </header>
        </div>
        <div class="main-container">
            <button onclick="hinzufuegenCard(get_highest_card(document.querySelector('.content')), '1', '20');">add miner</button>
                
                <button onclick="speichernDaten()">Save</button>
                <button onclick="ladenDaten()">Load</button>
                <div id="viewSwitcher">
                    <button class="view-btn active" id="grid-btn" onclick="wechselAnsicht('grid')">🔲 Grid</button>
                    <button class="view-btn" id="list-btn" onclick="wechselAnsicht('list')">📋 Liste</button>
                </div>
                <div id="currencySwitcher">
                    <button class="currency-btn" id="btc-btn" onclick="wechselWaehrung('btc')">₿ BTC</button>
                    <button class="currency-btn active" id="usd-btn" onclick="wechselWaehrung('usd')">$ USD</button>
                    <button class="currency-btn" id="gmt-btn" onclick="wechselWaehrung('gmt')">🪙 GMT</button>
                </div>
                
                <!-- Unsichtbares Element zur Speicherung der aktiven Währung -->
                <span id="currencyMode" style="display: none;">usd</span>
                <span id="viewMode" style="display: none;">grid</span>

           
        </div>
<div class="main-container">
<!--<div class="farm-card" id="farm">
    <button class="delete-btn" onclick="entfernenFarm()">&times</button>
    <span class="card-label">Farm</span>
    <div class="input-container-farm">
        <label for="farm-power">Power</label>
        <input type="text" id="farm-power" value="16" oninput="aktualisiereWert('farm', 'power')">
    </div>   
    <div class="input-container-farm">
        <label for="farm-efficiency">Efficiency</label>
        <input type="text" id="farm-efficiency" value="45" oninput="aktualisiereWert('farm', 'efficiency')">
    </div>
</div> -->
<div class="content" id="farm-content">


</div>

        <div class="content" id="content"></div>


        </div>
    </div>
    </div>
</body>
  <script>
          const efficiencyMatrixfarm = {
                16: { to: 15, pricePerW: 1.32 },
                17: { to: 16, pricePerW: 1.32 },
                18: { to: 17, pricePerW: 1.32 },
                19: { to: 18, pricePerW: 1.32 },
                20: { to: 19, pricePerW: 1.32 },
                21: { to: 20, pricePerW: 1.02 },
                22: { to: 21, pricePerW: 1.02 },
                23: { to: 22, pricePerW: 1.02 },
                24: { to: 23, pricePerW: 1.02 },
                25: { to: 24, pricePerW: 1.02 },
                26: { to: 25, pricePerW: 1.02 },
                27: { to: 26, pricePerW: 1.02 },
                28: { to: 27, pricePerW: 1.02 },
                29: { to: 28, pricePerW: 0.99 },
                30: { to: 29, pricePerW: 0.99 },
                31: { to: 30, pricePerW: 0.99 },
                32: { to: 31, pricePerW: 0.99 },
                33: { to: 32, pricePerW: 0.99 },
                34: { to: 33, pricePerW: 0.99 },
                35: { to: 34, pricePerW: 0.99 },
                36: { to: 35, pricePerW: 0.27 },
                37: { to: 36, pricePerW: 0.27 },
                38: { to: 37, pricePerW: 0.27 },
                39: { to: 38, pricePerW: 0.27 },
                40: { to: 39, pricePerW: 0.27 },
                41: { to: 40, pricePerW: 0.27 },
                42: { to: 41, pricePerW: 0.27 },
                43: { to: 42, pricePerW: 0.27 },
                44: { to: 43, pricePerW: 0.27 },
                45: { to: 44, pricePerW: 0.27 },
                46: { to: 45, pricePerW: 0.27 },
                47: { to: 46, pricePerW: 0.27 },
                48: { to: 47, pricePerW: 0.27 },
                49: { to: 48, pricePerW: 0.27 },
                50: { to: 49, pricePerW: 0.27 }
            };

            const priceMatrixfarm = {
                    "22": [ 	{ minTH: 	1	, pricePerTH:	22.48	},	
                                { minTH: 	2	, pricePerTH:	22.39	},	
                                { minTH: 	4	, pricePerTH:	22.31	},	
                                { minTH: 	8	, pricePerTH:	22.23	},	
                                { minTH: 	16	, pricePerTH:	22.15	},	
                                { minTH: 	32	, pricePerTH:	22.07	},	
                                { minTH: 	48	, pricePerTH:	22.00	},	
                                { minTH: 	64	, pricePerTH:	21.92	},	
                                { minTH: 	96	, pricePerTH:	21.84	},	
                                { minTH: 	128	, pricePerTH:	21.76	},	
                                { minTH: 	192	, pricePerTH:	21.69	},	
                                { minTH: 	256	, pricePerTH:	21.61	},	
                                { minTH: 	384	, pricePerTH:	21.54	},	
                                { minTH: 	512	, pricePerTH:	21.47	},	
                                { minTH: 	768	, pricePerTH:	21.39	},	
                                { minTH: 	1024	, pricePerTH:	21.32	},	
                                { minTH: 	1536	, pricePerTH:	21.25	},	
                                { minTH: 	2560	, pricePerTH:	21.18	},	
                                { minTH: 	3584	, pricePerTH:	21.11	},	],
                                                    
                    "21": [ 	{ minTH: 	1	, pricePerTH:	23.49	},	
                                { minTH: 	2	, pricePerTH:	23.41	},	
                                { minTH: 	4	, pricePerTH:	23.33	},	
                                { minTH: 	8	, pricePerTH:	23.25	},	
                                { minTH: 	16	, pricePerTH:	23.17	},	
                                { minTH: 	32	, pricePerTH:	23.09	},	
                                { minTH: 	48	, pricePerTH:	23.01	},	
                                { minTH: 	64	, pricePerTH:	22.94	},	
                                { minTH: 	96	, pricePerTH:	22.86	},	
                                { minTH: 	128	, pricePerTH:	22.78	},	
                                { minTH: 	192	, pricePerTH:	22.71	},	
                                { minTH: 	256	, pricePerTH:	22.63	},	
                                { minTH: 	384	, pricePerTH:	22.56	},	
                                { minTH: 	512	, pricePerTH:	22.48	},	
                                { minTH: 	768	, pricePerTH:	22.41	},	
                                { minTH: 	1024	, pricePerTH:	22.34	},	
                                { minTH: 	1536	, pricePerTH:	22.27	},	
                                { minTH: 	2560	, pricePerTH:	22.20	},	
                                { minTH: 	3584	, pricePerTH:	22.12	},	],
                                                    
                    "20": [ 	{ minTH: 	1	, pricePerTH:	24.51	, minerCost: 27.99 },	
                                { minTH: 	2	, pricePerTH:	24.43	},	
                                { minTH: 	4	, pricePerTH:	24.35	},	
                                { minTH: 	8	, pricePerTH:	24.27	},	
                                { minTH: 	16	, pricePerTH:	24.19	},	
                                { minTH: 	32	, pricePerTH:	24.11	},	
                                { minTH: 	48	, pricePerTH:	24.03	},	
                                { minTH: 	64	, pricePerTH:	23.95	},	
                                { minTH: 	96	, pricePerTH:	23.88	},	
                                { minTH: 	128	, pricePerTH:	23.80	},	
                                { minTH: 	192	, pricePerTH:	23.72	},	
                                { minTH: 	256	, pricePerTH:	23.65	},	
                                { minTH: 	384	, pricePerTH:	23.58	},	
                                { minTH: 	512	, pricePerTH:	23.50	},	
                                { minTH: 	768	, pricePerTH:	23.43	},	
                                { minTH: 	1024	, pricePerTH:	23.36	},	
                                { minTH: 	1536	, pricePerTH:	23.28	},	
                                { minTH: 	2560	, pricePerTH:	23.21	},	
                                { minTH: 	3584	, pricePerTH:	23.14	},	],
                                                    
                    "19": [ 	{ minTH: 	1	, pricePerTH:	25.84	},	
                                { minTH: 	2	, pricePerTH:	25.75	},	
                                { minTH: 	4	, pricePerTH:	25.67	},	
                                { minTH: 	8	, pricePerTH:	25.59	},	
                                { minTH: 	16	, pricePerTH:	25.51	},	
                                { minTH: 	32	, pricePerTH:	25.43	},	
                                { minTH: 	48	, pricePerTH:	25.35	},	
                                { minTH: 	64	, pricePerTH:	25.28	},	
                                { minTH: 	96	, pricePerTH:	25.20	},	
                                { minTH: 	128	, pricePerTH:	25.12	},	
                                { minTH: 	192	, pricePerTH:	25.05	},	
                                { minTH: 	256	, pricePerTH:	24.97	},	
                                { minTH: 	384	, pricePerTH:	24.90	},	
                                { minTH: 	512	, pricePerTH:	24.82	},	
                                { minTH: 	768	, pricePerTH:	24.75	},	
                                { minTH: 	1024	, pricePerTH:	24.68	},	
                                { minTH: 	1536	, pricePerTH:	24.61	},	
                                { minTH: 	2560	, pricePerTH:	24.54	},	
                                { minTH: 	3584	, pricePerTH:	24.47	},	],
                                                    
                    "18": [ 	{ minTH: 	1	, pricePerTH:	27.16	},	
                                { minTH: 	2	, pricePerTH:	27.08	},	
                                { minTH: 	4	, pricePerTH:	27.00	},	
                                { minTH: 	8	, pricePerTH:	26.91	},	
                                { minTH: 	16	, pricePerTH:	26.83	},	
                                { minTH: 	32	, pricePerTH:	26.76	},	
                                { minTH: 	48	, pricePerTH:	26.68	},	
                                { minTH: 	64	, pricePerTH:	26.60	},	
                                { minTH: 	96	, pricePerTH:	26.52	},	
                                { minTH: 	128	, pricePerTH:	26.45	},	
                                { minTH: 	192	, pricePerTH:	26.37	},	
                                { minTH: 	256	, pricePerTH:	26.30	},	
                                { minTH: 	384	, pricePerTH:	26.22	},	
                                { minTH: 	512	, pricePerTH:	26.15	},	
                                { minTH: 	768	, pricePerTH:	26.07	},	
                                { minTH: 	1024	, pricePerTH:	26.00	},	
                                { minTH: 	1536	, pricePerTH:	25.93	},	
                                { minTH: 	2560	, pricePerTH:	25.86	},	
                                { minTH: 	3584	, pricePerTH:	25.79	},	],
                                                    
                    "17": [ 	{ minTH: 	1	, pricePerTH:	28.48	},	
                                { minTH: 	2	, pricePerTH:	28.40	},	
                                { minTH: 	4	, pricePerTH:	28.32	},	
                                { minTH: 	8	, pricePerTH:	28.24	},	
                                { minTH: 	16	, pricePerTH:	28.16	},	
                                { minTH: 	32	, pricePerTH:	28.08	},	
                                { minTH: 	48	, pricePerTH:	28.00	},	
                                { minTH: 	64	, pricePerTH:	27.92	},	
                                { minTH: 	96	, pricePerTH:	27.85	},	
                                { minTH: 	128	, pricePerTH:	27.77	},	
                                { minTH: 	192	, pricePerTH:	27.69	},	
                                { minTH: 	256	, pricePerTH:	27.62	},	
                                { minTH: 	384	, pricePerTH:	27.54	},	
                                { minTH: 	512	, pricePerTH:	27.47	},	
                                { minTH: 	768	, pricePerTH:	27.40	},	
                                { minTH: 	1024	, pricePerTH:	27.33	},	
                                { minTH: 	1536	, pricePerTH:	27.25	},	
                                { minTH: 	2560	, pricePerTH:	27.18	},	
                                { minTH: 	3584	, pricePerTH:	27.11	},	],
                                                    
                    "16": [ 	{ minTH: 	1	, pricePerTH:	29.80	},	
                                { minTH: 	2	, pricePerTH:	29.72	},	
                                { minTH: 	4	, pricePerTH:	29.64	},	
                                { minTH: 	8	, pricePerTH:	29.56	},	
                                { minTH: 	16	, pricePerTH:	29.48	},	
                                { minTH: 	32	, pricePerTH:	29.40	},	
                                { minTH: 	48	, pricePerTH:	29.32	},	
                                { minTH: 	64	, pricePerTH:	29.25	},	
                                { minTH: 	96	, pricePerTH:	29.17	},	
                                { minTH: 	128	, pricePerTH:	29.09	},	
                                { minTH: 	192	, pricePerTH:	29.02	},	
                                { minTH: 	256	, pricePerTH:	28.94	},	
                                { minTH: 	384	, pricePerTH:	28.87	},	
                                { minTH: 	512	, pricePerTH:	28.79	},	
                                { minTH: 	768	, pricePerTH:	28.72	},	
                                { minTH: 	1024	, pricePerTH:	28.65	},	
                                { minTH: 	1536	, pricePerTH:	28.58	},	
                                { minTH: 	2560	, pricePerTH:	28.51	},	
                                { minTH: 	3584	, pricePerTH:	28.43	},	],
                                                
                    "15": [ 	{ minTH: 	1	, pricePerTH:	31.13	, minerCost: 35.99 },	
                                { minTH: 	2	, pricePerTH:	31.05	},	
                                { minTH: 	4	, pricePerTH:	30.96	},	
                                { minTH: 	8	, pricePerTH:	30.88	},	
                                { minTH: 	16	, pricePerTH:	30.80	},	
                                { minTH: 	32	, pricePerTH:	30.72	},	
                                { minTH: 	48	, pricePerTH:	30.65	},	
                                { minTH: 	64	, pricePerTH:	30.57	},	
                                { minTH: 	96	, pricePerTH:	30.49	},	
                                { minTH: 	128	, pricePerTH:	30.42	},	
                                { minTH: 	192	, pricePerTH:	30.34	},	
                                { minTH: 	256	, pricePerTH:	30.26	},	
                                { minTH: 	384	, pricePerTH:	30.19	},	
                                { minTH: 	512	, pricePerTH:	30.12	},	
                                { minTH: 	768	, pricePerTH:	30.04	},	
                                { minTH: 	1024	, pricePerTH:	29.97	},	
                                { minTH: 	1536	, pricePerTH:	29.90	},	
                                { minTH: 	2560	, pricePerTH:	29.83	},	
                                { minTH: 	3584	, pricePerTH:	29.76	},	],
   
                    "23": [ 	{ minTH: 	1	, pricePerTH:	21.46	},	
                                { minTH: 	2	, pricePerTH:	21.38	},	
                                { minTH: 	4	, pricePerTH:	21.30	},	
                                { minTH: 	8	, pricePerTH:	21.21	},	
                                { minTH: 	16	, pricePerTH:	21.13	},	
                                { minTH: 	32	, pricePerTH:	21.06	},	
                                { minTH: 	48	, pricePerTH:	20.98	},	
                                { minTH: 	64	, pricePerTH:	20.90	},	
                                { minTH: 	96	, pricePerTH:	20.82	},	
                                { minTH: 	128	, pricePerTH:	20.75	},	
                                { minTH: 	192	, pricePerTH:	20.67	},	
                                { minTH: 	256	, pricePerTH:	20.60	},	
                                { minTH: 	384	, pricePerTH:	20.52	},	
                                { minTH: 	512	, pricePerTH:	20.45	},	
                                { minTH: 	768	, pricePerTH:	20.37	},	
                                { minTH: 	1024	, pricePerTH:	20.30	},	
                                { minTH: 	1536	, pricePerTH:	20.23	},	
                                { minTH: 	2560	, pricePerTH:	20.16	},	
                                { minTH: 	3584	, pricePerTH:	20.09	},	],
                    "24": [ 	{ minTH: 	1	, pricePerTH:	20.44	},	
                                { minTH: 	2	, pricePerTH:	20.36	},	
                                { minTH: 	4	, pricePerTH:	20.28	},	
                                { minTH: 	8	, pricePerTH:	20.20	},	
                                { minTH: 	16	, pricePerTH:	20.12	},	
                                { minTH: 	32	, pricePerTH:	20.04	},	
                                { minTH: 	48	, pricePerTH:	19.96	},	
                                { minTH: 	64	, pricePerTH:	19.88	},	
                                { minTH: 	96	, pricePerTH:	19.80	},	
                                { minTH: 	128	, pricePerTH:	19.73	},	
                                { minTH: 	192	, pricePerTH:	19.65	},	
                                { minTH: 	256	, pricePerTH:	19.58	},	
                                { minTH: 	384	, pricePerTH:	19.50	},	
                                { minTH: 	512	, pricePerTH:	19.43	},	
                                { minTH: 	768	, pricePerTH:	19.36	},	
                                { minTH: 	1024	, pricePerTH:	19.28	},	
                                { minTH: 	1536	, pricePerTH:	19.21	},	
                                { minTH: 	2560	, pricePerTH:	19.14	},	
                                { minTH: 	3584	, pricePerTH:	19.07	},	],
  
                    "25": [ 	{ minTH: 	1	, pricePerTH:	19.42	},	
                                { minTH: 	2	, pricePerTH:	19.34	},	
                                { minTH: 	4	, pricePerTH:	19.26	},	
                                { minTH: 	8	, pricePerTH:	19.18	},	
                                { minTH: 	16	, pricePerTH:	19.10	},	
                                { minTH: 	32	, pricePerTH:	19.02	},	
                                { minTH: 	48	, pricePerTH:	18.94	},	
                                { minTH: 	64	, pricePerTH:	18.86	},	
                                { minTH: 	96	, pricePerTH:	18.79	},	
                                { minTH: 	128	, pricePerTH:	18.71	},	
                                { minTH: 	192	, pricePerTH:	18.63	},	
                                { minTH: 	256	, pricePerTH:	18.56	},	
                                { minTH: 	384	, pricePerTH:	18.49	},	
                                { minTH: 	512	, pricePerTH:	18.41	},	
                                { minTH: 	768	, pricePerTH:	18.34	},	
                                { minTH: 	1024	, pricePerTH:	18.27	},	
                                { minTH: 	1536	, pricePerTH:	18.19	},	
                                { minTH: 	2560	, pricePerTH:	18.12	},	
                                { minTH: 	3584	, pricePerTH:	18.05	},	],
                    "26": [ 	{ minTH: 	1	, pricePerTH:	18.40	},	
                                { minTH: 	2	, pricePerTH:	18.32	},	
                                { minTH: 	4	, pricePerTH:	18.24	},	
                                { minTH: 	8	, pricePerTH:	18.16	},	
                                { minTH: 	16	, pricePerTH:	18.08	},	
                                { minTH: 	32	, pricePerTH:	18.00	},	
                                { minTH: 	48	, pricePerTH:	17.92	},	
                                { minTH: 	64	, pricePerTH:	17.85	},	
                                { minTH: 	96	, pricePerTH:	17.77	},	
                                { minTH: 	128	, pricePerTH:	17.69	},	
                                { minTH: 	192	, pricePerTH:	17.62	},	
                                { minTH: 	256	, pricePerTH:	17.54	},	
                                { minTH: 	384	, pricePerTH:	17.47	},	
                                { minTH: 	512	, pricePerTH:	17.39	},	
                                { minTH: 	768	, pricePerTH:	17.32	},	
                                { minTH: 	1024 , pricePerTH:	17.25	},	
                                { minTH: 	1536	, pricePerTH:	17.18	},	
                                { minTH: 	2560	, pricePerTH:	17.11	},	
                                { minTH: 	3584	, pricePerTH:	17.03	},	],
                     "27": [ 	{ minTH: 	1	, pricePerTH:	17.39	},	
                                { minTH: 	2	, pricePerTH:	17.30	},	
                                { minTH: 	4	, pricePerTH:	17.22	},	
                                { minTH: 	8	, pricePerTH:	17.14	},	
                                { minTH: 	16	, pricePerTH:	17.06	},	
                                { minTH: 	32	, pricePerTH:	16.98	},	
                                { minTH: 	48	, pricePerTH:	16.91	},	
                                { minTH: 	64	, pricePerTH:	16.83	},	
                                { minTH: 	96	, pricePerTH:	16.75	},	
                                { minTH: 	128	, pricePerTH:	16.67	},	
                                { minTH: 	192	, pricePerTH:	16.60	},	
                                { minTH: 	256	, pricePerTH:	16.52	},	
                                { minTH: 	384	, pricePerTH:	16.45	},	
                                { minTH: 	512	, pricePerTH:	16.38	},	
                                { minTH: 	768	, pricePerTH:	16.30	},	
                                { minTH: 	1024	, pricePerTH:	16.23	},	
                                { minTH: 	1536	, pricePerTH:	16.16	},	
                                { minTH: 	2560	, pricePerTH:	16.09	},	
                                { minTH: 	3584	, pricePerTH:	16.02	},	],
                    "28": [ 	{ minTH: 	1	, pricePerTH:	16.37	},	
                                { minTH: 	2	, pricePerTH:	16.29	},	
                                { minTH: 	4	, pricePerTH:	16.21	},	
                                { minTH: 	8	, pricePerTH:	16.12	},	
                                { minTH: 	16	, pricePerTH:	16.04	},	
                                { minTH: 	32	, pricePerTH:	15.97	},	
                                { minTH: 	48	, pricePerTH:	15.89	},	
                                { minTH: 	64	, pricePerTH:	15.81	},	
                                { minTH: 	96	, pricePerTH:	15.73	},	
                                { minTH: 	128	, pricePerTH:	15.66	},	
                                { minTH: 	192	, pricePerTH:	15.58	},	
                                { minTH: 	256	, pricePerTH:	15.51	},	
                                { minTH: 	384	, pricePerTH:	15.43	},	
                                { minTH: 	512	, pricePerTH:	15.36	},	
                                { minTH: 	768	, pricePerTH:	15.28	},	
                                { minTH: 	1024	, pricePerTH:	15.21	},	
                                { minTH: 	1536	, pricePerTH:	15.14	},	
                                { minTH: 	2560	, pricePerTH:	15.07	},	
                                { minTH: 	3584	, pricePerTH:	15.00	},	],

                }
    function hinzufuegenCard(cardId, power, efficiency) {
    // Zugriff auf das Content-Element
    let content = document.querySelector('.content');

    // Erstelle die neue Card
    let card = document.createElement('div');
    card.className = 'card';
    card.id = cardId;

    // Card-Label hinzufügen
    let label = document.createElement('span');
    label.className = 'card-label';
    label.innerText = `#${cardId}`;
    card.appendChild(label);

    let deleteBtn = document.createElement('button');
    deleteBtn.className = 'delete-btn';
    deleteBtn.innerHTML = '&times;';
    deleteBtn.onclick = function() {
        entfernenCard(cardId);
    };
    card.appendChild(deleteBtn);
    let copyBtn = document.createElement('button');
    copyBtn.className = 'copy-btn';
    copyBtn.innerHTML = '&#x2398;';
    copyBtn.onclick = function() {
        kopiereWerte(cardId);
    };
    card.appendChild(copyBtn);

    // Power Input mit Label
    let powerContainer = document.createElement('div');
    powerContainer.className = 'input-container';

    let powerLabel = document.createElement('label');
    powerLabel.setAttribute('for', `${cardId}-power`);
    powerLabel.innerText = 'Power';

    let powerInput = document.createElement('input');
    powerInput.type = 'text';
    powerInput.id = `${cardId}-power`;
    powerInput.value = `${power}`;
    powerInput.oninput = function() { aktualisiereWert(cardId, 'power'); aktualisiereFarmWerte(); };

    powerContainer.appendChild(powerLabel);
    powerContainer.appendChild(powerInput);
    card.appendChild(powerContainer);

    // Efficiency Input mit Label
    let efficiencyContainer = document.createElement('div');
    efficiencyContainer.className = 'input-container';

    let efficiencyLabel = document.createElement('label');
    efficiencyLabel.setAttribute('for', `${cardId}-efficiency`);
    efficiencyLabel.innerText = 'Efficiency';

    let efficiencyInput = document.createElement('input');
    efficiencyInput.type = 'text';
    efficiencyInput.id = `${cardId}-efficiency`;
    efficiencyInput.value = `${efficiency}`;
    efficiencyInput.oninput = function() { aktualisiereWert(cardId, 'efficiency'); aktualisiereFarmWerte();};

    efficiencyContainer.appendChild(efficiencyLabel);
    efficiencyContainer.appendChild(efficiencyInput);
    card.appendChild(efficiencyContainer);

    // Card zur Content-Sektion hinzufügen
    content.appendChild(card);
    aktualisiereFarmWerte();

}
function entfernenCard(cardId) {
    let card = document.getElementById(cardId);
    if (card) {
        card.remove();
    } else {
        console.warn(`Card mit ID ${cardId} existiert nicht.`);
    }
    aktualisiereFarmWerte();

}
function get_highest_card(content) {
    let highestId = 0;
    let cards = content.querySelectorAll('.card');

    cards.forEach(card => {
        let cardId = parseInt(card.id, 10);
        if (!isNaN(cardId) && cardId > highestId) {
            highestId = cardId;
        }
    });

    return String(highestId + 1).padStart(5, '0'); // Rückgabe als fünfstellige Zahl
}
function speichernDaten() {
    let viewElement = document.getElementById('viewMode');
    let ansicht = viewElement.innerText; // Holt den aktuellen Modus aus der UI
    let minerData = [];

    if (ansicht === 'grid') {
        // **1️⃣ Alle Cards auslesen und speichern**
        let cards = document.getElementsByClassName('card');
        for (let i = 0; i < cards.length; i++) {
            let cardId = cards[i].id;
            let powerElement = document.getElementById(`${cardId}-power`);
            let efficiencyElement = document.getElementById(`${cardId}-efficiency`);

            if (powerElement && efficiencyElement) {
                minerData.push({
                    id: cardId,
                    power: parseFloat(powerElement.value) || 0, // Jetzt wird es als Zahl gespeichert
                    efficiency: parseFloat(efficiencyElement.value) || 0
                });
            }
        }
    } else if (ansicht === 'list') {
        // **2️⃣ Falls die Tabelle aktiv ist, Daten aus Tabelle speichern**
        let rows = document.getElementById('miner-tbody').getElementsByTagName('tr');
        for (let i = 0; i < rows.length; i++) {
            let cells = rows[i].getElementsByTagName('td');
            minerData.push({
                id: cells[0].innerText,
                power: cells[1].innerText.replace(' TH', ''), // "TH" entfernen
                efficiency: cells[2].innerText.replace(' W/TH', '') // "W/TH" entfernen
            });
        }
    }

    // **3️⃣ Miner-Daten in LocalStorage unter "minerData" speichern**
    localStorage.setItem('minerData', JSON.stringify(minerData));
}

function ladenDaten() {
    let viewElement = document.getElementById('viewMode');
    let ansicht = viewElement.innerText; // Holt den aktuellen Modus aus der UI

    let savedData = localStorage.getItem('minerData');
    if (!savedData) return; // Falls keine Daten existieren, nichts tun

    let minerData = JSON.parse(savedData);
    
    // Ansicht abhängig vom gespeicherten Modus laden
    let content = document.getElementById('content');
    let table = document.getElementById('miner-table');
    if (table) table.remove(); // Falls eine Tabelle existiert, löschen

    // Ansicht abhängig vom gespeicherten Modus laden
    let contentfarm = document.getElementById('farm-content');
    let tablefarm = document.getElementById('farm-table');
    if (tablefarm) tablefarm.remove(); // Falls eine Tabelle existiert, löschen


    let cardsfarm = document.getElementsByClassName('farm-card');
    for (let i = cardsfarm.length - 1; i >= 0; i--) {
        cardsfarm[i].remove();
    }
    let cards = document.getElementsByClassName('card');
    for (let i = cards.length - 1; i >= 0; i--) {
        cards[i].remove();
    }



    // **Zuerst Farm laden (entweder als Card oder als Tabelle)**
    if (ansicht === 'grid') {
        ladeFarmCard(minerData); // Farm als Card laden
    } else {
        ladeFarmTable(minerData); // Farm als Tabelle laden
    }
    if (ansicht === 'grid') {
        // Miner als Cards hinzufügen

        minerData.forEach(miner => {
            hinzufuegenCard(miner.id, miner.power, miner.efficiency);
        });

    } else if (ansicht === 'list') {
        // Erstelle eine Tabelle

        let tableElement = document.createElement('table');
        tableElement.id = 'miner-table';

        let thead = document.createElement('thead');
        thead.innerHTML = `
            <tr>
                <th>ID</th>
                <th>TH</th>
                <th>W/TH</th>
                <th>ROI +1 TH(%)</th>
                <th>ROI -1 W/TH(%)</th>
                <th>revenue</th>
                <th>electricity</th>
                <th>service</th>
                <th>profit</th>
            </tr>
        `;
        tableElement.appendChild(thead);

        let tbody = document.createElement('tbody');
        tbody.id = 'miner-tbody';
        tableElement.appendChild(tbody);

        content.appendChild(tableElement);

        ladenMinerInTabelle();
    }
}
function ladeFarmTable(minerData) {
    let farmContent = document.getElementById('farm-content');
    if (!farmContent) {
        console.error("Fehler: #farm-content nicht gefunden.");
        return;
    }

    // Falls bereits eine Farm-Tabelle existiert, entfernen wir sie
    let existingTable = document.getElementById('farm-table');
    if (existingTable) {
        existingTable.remove();
    }

    // Neue Farm-Tabelle erstellen
    let tableElement = document.createElement('table');
    tableElement.id = 'farm-table';

    // Tabellenkopf hinzufügen
    let thead = document.createElement('thead');
    thead.innerHTML = `
        <tr>
            <th>Power (TH)</th>
            <th>Efficiency (W/TH)</th>
            <th>revenue</th>
            <th>electricity</th>
            <th>service</th>
            <th>profit</th>
        </tr>
    `;
    tableElement.appendChild(thead);

    // Tabellenkörper hinzufügen
    let tbody = document.createElement('tbody');

    // Berechnung der Gesamtwerte für die Farm
    let totalPower = 0;
    let weightedEfficiencySum = 0;
    let btcPrice = parseFloat(document.getElementById('bitcoin-price-dropdown').value) || 0;
    let gmtPrice = parseFloat(document.getElementById('gmt-token-price').value) || 0;
    let satoshiPerTH = parseFloat(document.getElementById('sat-TH').value) || 0;
    // Aktuelle Währung auslesen
    let currencyElement = document.getElementById('currencyMode');
    let waehrung = currencyElement.innerText; // btc, usd oder gmt
    minerData.forEach(miner => {
        let power = parseFloat(miner.power) || 0;
        let efficiency = parseFloat(miner.efficiency) || 0;
        totalPower += power;
        weightedEfficiencySum += (power * efficiency);
    });

    let avgEfficiency = totalPower > 0 ? (weightedEfficiencySum / totalPower).toFixed(2) : 0;
    let revenue = calculateDailyRevenue(satoshiPerTH, totalPower, btcPrice, gmtPrice, avgEfficiency);
    let dailyelectricity = calculateDailyElectricity(totalPower, avgEfficiency, btcPrice, gmtPrice);
    let dailyservice = calculateDailyService(totalPower, btcPrice, gmtPrice)


        //let roiEff = calculateROI_EfficiencyUpgrade(miner.efficiency, miner.efficiency - 5, miner.power);
        let profitbtc = revenue.btc - dailyelectricity.btc - dailyservice.btc;
        let revenueDisplay = '';
        if (waehrung === 'btc') {
            revenueDisplay = `${revenue.btc.toFixed(8)} BTC`;
            electricityDisplay = `${dailyelectricity.btc.toFixed(8)} BTC`;
            serviceDisplay = `${dailyservice.btc.toFixed(8)} BTC`;
            profitDisplay = `${profitbtc.toFixed(8)} BTC`;
        } else if (waehrung === 'usd') {
            revenueDisplay = `$${revenue.usd.toFixed(2)}`;
            electricityDisplay = `$${dailyelectricity.usd.toFixed(2)}`;
            serviceDisplay = `$${dailyservice.usd.toFixed(2)} `;
            let profit = btc2usd(btcPrice, profitbtc);
            profitDisplay = `$${profit} `;
        } else if (waehrung === 'gmt') {
            revenueDisplay = `${revenue.gmt ? revenue.gmt.toFixed(2) : "N/A"} GMT`;
            electricityDisplay = `${dailyelectricity.gmt.toFixed(2)} GMT`;
            serviceDisplay = `${dailyservice.gmt.toFixed(2)} GMT`;
            let profit = btc2gmt(btcPrice, gmtPrice, profitbtc);
            profitDisplay = `${profit} GMT`;
        }
        let row = document.createElement('tr');
        row.innerHTML = `
            <td>${totalPower}</td>
            <td>${avgEfficiency}</td>
            <td>${revenueDisplay}</td>
            <td>${electricityDisplay}</td>
            <td>${serviceDisplay}</td>
            <td>${profitDisplay}</td>
        `;
    tbody.appendChild(row);
    tableElement.appendChild(tbody);

    // Tabelle in den Farm-Content einfügen
    farmContent.appendChild(tableElement);
}
function ladeFarmCard(minerData) {
    let farmContent = document.getElementById('farm-content');
    if (!farmContent) {
        console.error("Fehler: #farm-content nicht gefunden.");
        return;
    }

    // Falls eine bestehende Farm-Card existiert, entfernen
    let existingFarm = document.getElementById('farm');
    if (existingFarm) {
        existingFarm.remove();
    }

    // Neue Farm-Card erstellen
    let farmCard = document.createElement('div');
    farmCard.className = 'farm-card';
    farmCard.id = 'farm';

    // Farm-Label und Delete-Button
    farmCard.innerHTML = `
        <button class="delete-btn" onclick="entfernenFarm()">&times;</button>
        <span class="card-label">Farm</span>
    `;

    // Farm-Gesamtwerte berechnen
    let totalPower = 0;
    let weightedEfficiencySum = 0;

    minerData.forEach(miner => {
        let power = parseFloat(miner.power) || 0;
        let efficiency = parseFloat(miner.efficiency) || 0;
        totalPower += power;
        weightedEfficiencySum += (power * efficiency);
    });

    let avgEfficiency = totalPower > 0 ? (weightedEfficiencySum / totalPower).toFixed(2) : 0;

    // Input-Felder für Power & Efficiency
    farmCard.innerHTML += `
        <div class="input-container-farm">
            <label for="farm-power">Power</label>
            <input type="text" id="farm-power" value="${totalPower.toFixed(2)}" oninput="aktualisiereWert('farm', 'power')">
        </div>   
        <div class="input-container-farm">
            <label for="farm-efficiency">Efficiency</label>
            <input type="text" id="farm-efficiency" value="${avgEfficiency}" oninput="aktualisiereWert('farm', 'efficiency')">
        </div>
    `;

    // Farm-Card in farm-content einfügen
    farmContent.appendChild(farmCard);
}


function ladenMinerInTabelle() {
    let minerData = JSON.parse(localStorage.getItem('minerData')) || [];
    let tbody = document.getElementById('miner-tbody');
    
    // Aktuelle Währung auslesen
    let currencyElement = document.getElementById('currencyMode');
    let waehrung = currencyElement.innerText; // btc, usd oder gmt
    
    // **1️⃣ Fehlende Variablen aus UI abrufen**
    let satoshiPerTH = parseFloat(document.getElementById('sat-TH').value) || 0; // Satoshi pro TH
    let btcPrice = parseFloat(document.getElementById('bitcoin-price-dropdown').value) || 0; // BTC-Preis
    let gmtPrice = parseFloat(document.getElementById('gmt-token-price').value) || 0; // GMT-Token-Preis

    
    tbody.innerHTML = ''; // Leere Tabelle vor dem Neuladen

    minerData.forEach(miner => {
        let myTH = parseFloat(miner.power) ? parseFloat(miner.power) : 0; // Miner-TH aus `minerData`
        let efficiency = parseFloat(miner.efficiency) || 0; // Effizienz aus `minerData`
        let revenue = calculateDailyRevenue(satoshiPerTH, myTH, btcPrice, gmtPrice, efficiency);
        let revenueupgrade = calculateDailyRevenue(satoshiPerTH, 1, btcPrice, gmtPrice, efficiency);
        let dailyelectricity = calculateDailyElectricity(miner.power, miner.efficiency, btcPrice, gmtPrice)
        let dailyservice = calculateDailyService(miner.power, btcPrice, gmtPrice)
        let roiTH;
        if (miner.efficiency <= 28) {
            roiTH = calculateROI_THUpgrade(miner.power, 1, getPricePerTH(miner.efficiency, miner.power), revenueupgrade, miner.efficiency);
        } else {
            roiTH = '0';
        }


        //let roiEff = calculateROI_EfficiencyUpgrade(miner.efficiency, miner.efficiency - 5, miner.power);
        let profitbtc = revenue.btc - dailyelectricity.btc - dailyservice.btc;
        let revenueDisplay = '';
        if (waehrung === 'btc') {
            revenueDisplay = `${revenue.btc.toFixed(8)} BTC`;
            electricityDisplay = `${dailyelectricity.btc.toFixed(8)} BTC`;
            serviceDisplay = `${dailyservice.btc.toFixed(8)} BTC`;
            profitDisplay = `${profitbtc.toFixed(8)} BTC`;
        } else if (waehrung === 'usd') {
            revenueDisplay = `$${revenue.usd.toFixed(2)}`;
            electricityDisplay = `$${dailyelectricity.usd.toFixed(2)}`;
            serviceDisplay = `$${dailyservice.usd.toFixed(2)} `;
            let profit = btc2usd(btcPrice, profitbtc);
            profitDisplay = `$${profit} `;
        } else if (waehrung === 'gmt') {
            revenueDisplay = `${revenue.gmt ? revenue.gmt.toFixed(2) : "N/A"} GMT`;
            electricityDisplay = `${dailyelectricity.gmt.toFixed(2)} GMT`;
            serviceDisplay = `${dailyservice.gmt.toFixed(2)} GMT`;
            let profit = btc2gmt(btcPrice, gmtPrice, profitbtc);
            profitDisplay = `${profit} GMT`;
        }
        let row = document.createElement('tr');
        row.innerHTML = `
            <td>${miner.id}</td>
            <td>${miner.power}</td>
            <td>${miner.efficiency}</td>
            <td>${roiTH}%</td>
            <td>-%</td>
            <td>${revenueDisplay}</td>
            <td>${electricityDisplay}</td>
            <td>${serviceDisplay}</td>
            <td>${profitDisplay}</td>
        `;
        tbody.appendChild(row);
    });
}




// Seite initialisieren
window.onload = function() {
    ladenDaten();
    aktualisiereFarmWerte();

};

let ansicht = 'grid';


function aktualisiereWert(cardId, feld) {
    let inputElement = document.getElementById(`${cardId}-${feld}`);
    if (inputElement) {
        let gespeicherteCards = JSON.parse(localStorage.getItem('cards')) || [];
        
        // Finde die richtige Karte und aktualisiere den Wert
        gespeicherteCards.forEach(card => {
            if (card.id === cardId) {
                card[feld] = inputElement.value;
            }
        });

        // Aktualisierte Werte speichern
        localStorage.setItem('cards', JSON.stringify(gespeicherteCards));


    }
}
function entfernenFarm() {
    let content = document.querySelector('.content');
    content.innerHTML = '';
    aktualisiereFarmWerte();

}
function aktualisiereFarmWerte() {
    let content = document.querySelector('.content');
    let cards = content.querySelectorAll('.card');
    
    let totalPower = 0;
    let totalEfficiency = 0;
    let count = 0;

    cards.forEach(card => {
        let powerElement = document.getElementById(`${card.id}-power`);
        let efficiencyElement = document.getElementById(`${card.id}-efficiency`);


        if (powerElement && efficiencyElement) {
            let powerValue = parseFloat(powerElement.value) || 0;
            let efficiencyValue = parseFloat(efficiencyElement.value) || 0;

            totalPower += powerValue;
            totalEfficiency += ( powerValue * efficiencyValue );
            count++;
        }
    });

        let avgEfficiency = count > 0 ? (totalEfficiency / totalPower).toFixed(2) : 0;

        document.getElementById('farm-power').value = totalPower.toFixed(2);
        document.getElementById('farm-efficiency').value = avgEfficiency;
    }

    function kopiereWerte(cardId) {
        let powerValue = document.getElementById(`${cardId}-power`).value;
        let efficiencyValue = document.getElementById(`${cardId}-efficiency`).value;
        hinzufuegenCard(get_highest_card(document.querySelector('.content')), powerValue, efficiencyValue)
   

    }
function wechselAnsicht(mode) {
    speichernDaten(); // Speichert die aktuellen Miner-Daten
    let viewElement = document.getElementById('viewMode');
    viewElement.innerText = mode; // Speichert den aktuellen Modus in HTML

    // Entferne vorherige aktive Markierung
    document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));

    // Setze den aktiven Button basierend auf der gewählten Ansicht
    document.getElementById(`${mode}-btn`).classList.add('active');
    ladenDaten(); // Lädt die Daten für die neue Ansicht
}





function calculateROI_THUpgrade(power, additionalTH, pricePerTH, dailyRevenuePerTH, minerefficency) {
    let btcPrice = parseFloat(document.getElementById('bitcoin-price-dropdown').value) || 0; // BTC-Preis
    let gmtPrice = parseFloat(document.getElementById('gmt-token-price').value) || 0; // GMT-Token-Preis
    let upgradeCost = additionalTH * pricePerTH; // Gesamtkosten für das Upgrade
    let additionalDailyRevenuebtc = additionalTH * dailyRevenuePerTH.btc; // Zusätzlicher täglicher Ertrag in BTC
    let dailyelectricity = calculateDailyElectricity(additionalTH, minerefficency, btcPrice, gmtPrice)
    let dailyservice = calculateDailyService(additionalTH, btcPrice, gmtPrice)
    let dailyProfitbtc = additionalDailyRevenuebtc - dailyelectricity.btc - dailyservice.btc
    let dailyProfit = btc2usd(btcPrice, dailyProfitbtc);
    let upgradecostbtc = usd2btc(upgradeCost ,btcPrice );
    let roiDays = upgradecostbtc / dailyProfitbtc // ROI in Tagen
    let roiPercent = (365 / roiDays) * 100; // ROI in %

    return roiPercent.toFixed(2); // Rückgabe als Prozentwert
}
function getEfficiencyUpgradePrice(currentEfficiency) {
    if (efficiencyMatrixfarm[currentEfficiency]) {
        return efficiencyMatrixfarm[currentEfficiency].pricePerW;
    }
    return null; // Falls keine Daten vorhanden sind
}
function getPricePerTH(efficiency, thAmount) {
    if (!priceMatrixfarm[efficiency]) {
        console.error(`Keine Preisdaten für ${efficiency} W/TH gefunden.`);
        return null;
    }

    let priceEntries = priceMatrixfarm[efficiency];

    // Finde den passenden Preis für die gegebene TH-Menge
    for (let i = priceEntries.length - 1; i >= 0; i--) {
        if (thAmount >= priceEntries[i].minTH) {
            return priceEntries[i].pricePerTH;
        }
    }

    return null; // Falls keine passende Preisstufe gefunden wurde
}
function wechselWaehrung(mode) {
    let currencyElement = document.getElementById('currencyMode');
    currencyElement.innerText = mode; // Speichert die Währung im UI

    // Entferne vorherige aktive Markierung
    document.querySelectorAll('.currency-btn').forEach(btn => btn.classList.remove('active'));

    // Setze den aktiven Button basierend auf der gewählten Währung
    let activeButton = document.getElementById(`${mode}-btn`);
    if (activeButton) {
        activeButton.classList.add('active');
    } else {
        console.error(`Fehler: Der Button ${mode}-btn existiert nicht.`);
    }

    // Aktualisiere die Miner-Tabelle mit der neuen Währung
    ladenDaten();
}

function btc2usd(btcPrice, valueBtc) {
    return (btcPrice * valueBtc).toFixed(2);
}
function usd2btc(usdValue, btcPrice) {
    return (usdValue / btcPrice).toFixed(8);
}
function btc2gmt(btcPrice, gmtPrice, valueBtc) {
    if (gmtPrice === 0 || isNaN(gmtPrice)) {
        console.error("Fehler: GMT-Preis ist 0 oder ungültig.");
        return "N/A";
    }
    return ((btcPrice * valueBtc) / gmtPrice).toFixed(2);
}

      
                const priceMatrixfarmalt = {
                    "15": [
                        { minTH: 1, pricePerTH: 31.57, minerCost: 36.99 },
                        { minTH: 2, pricePerTH: 31.49 },
                        { minTH: 4, pricePerTH: 31.41 },
                        { minTH: 8, pricePerTH: 31.33 },
                        { minTH: 16, pricePerTH: 31.25 },
                        { minTH: 32, pricePerTH: 31.17 },
                        { minTH: 64, pricePerTH: 31.02 },
                        { minTH: 128, pricePerTH: 30.87 },
                        { minTH: 256, pricePerTH: 30.72 },
                        { minTH: 512, pricePerTH: 30.57 },
                        { minTH: 1024, pricePerTH: 30.42 },
                    ],
                    "20": [
                        { minTH: 1, pricePerTH: 23.25, minerCost: 26.99 },
                        { minTH: 2, pricePerTH: 23.17 },
                        { minTH: 4, pricePerTH: 23.09 },
                        { minTH: 8, pricePerTH: 23.01 },
                        { minTH: 16, pricePerTH: 22.93 },
                        { minTH: 32, pricePerTH: 22.85 },
                        { minTH: 64, pricePerTH: 22.70 },
                        { minTH: 128, pricePerTH: 22.55 },
                        { minTH: 256, pricePerTH: 22.40 },
                        { minTH: 512, pricePerTH: 22.25 },
                        { minTH: 1024, pricePerTH: 22.10 },
                    ],

                };



  </script>
</html>
